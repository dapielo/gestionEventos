<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/styles/estilos.css}">
    <title>Ejercicio 3</title>
</head>
<body>
    <h1>Eventos posibles</h1>
    <a th:href="@{/add(nombre='Cumpleaños de un amigo')}">Cumpleaños de un amigo</a><br/>
    <a th:href="@{/add(nombre='Fiesta de disfraces')}">Fiesta de disfraces</a><br/>
    <a th:href="@{/add(nombre='Festival en el centro')}">Festival en el centro</a><br/>
    <a th:href="@{/add(nombre='Ir al cine')}">Ir al cine</a>
    <form th:action="@{/}" method="get">
        <h2>Filtros de busqueda</h2>
        <p>
            <input type="radio" name="completadas" value="true" id="completados_radio">
            <label for="completados_radio">Filtar por completados</label>
        </p>
        <p>
            <input type="radio" name="completadas" value="false" id="no_completados_radio">
            <label for="no_completados_radio">Filtar por no completados</label>
        </p>
        <p>
            <label for="filtro_nombre">Filtrar por nombre</label><br/>
            <input type="text" id="filtro_nombre" name="filtro" placeholder="Introduce parte del nombre...">
        </p>
        <div id="contenedor_submit">
            <button type="submit">Aceptar</button>
        </div>
    </form>
    <h1>Lista de eventos</h1>
    <div id="campo_mensaje" th:if="${mensaje!=null}" th:text="${mensaje}"></div>
    <table>
        <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Estado</th>
            <th>Borrar</th>
            <th>Cambiar estado</th>
        </tr>
        <tr th:each="e,iterador : ${eventos}" th:class="${e.completada}?'tr_completada':'tr_pendiente'">
            <td th:text="${iterador.index+1}"></td>
            <td th:text="${e.nombre}"></td>
            <td th:text="${e.completada}?'Completada':'Pendiente'"></td>
            <td><a th:href="@{/delete/{id}(id=${e.id})}"><button>Eliminar</button></a></td>
            <td><a th:href="@{toggle/{id}(id=${e.id})}"><button>Cambiar</button></a></td>
        </tr>
    </table>
</body>
</html>